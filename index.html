<!DOCTYPE html>
<html>
  <head>
    <title>Flash Cards</title>
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;

        height: 100vh;
        width: 100%;
        margin: 0;
        padding: 0;
        background-color: #f0f0f0;
        font-family: Arial, sans-serif;
      }

      .content {
        display: flex;
        flex-direction: column;
      }

      .metadata {
        display: flex;
        justify-content: space-between;
        margin-top: 10px;
      }

      #flashCard {
        display: flex;
        justify-content: center;
        align-items: center;
        /* Existing CSS properties */
        min-width: 500px;
        min-height: 400px;
        font-size: 10vw;
        text-align: center;
        background-color: #fff;
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.1);
      }

      #leftCount {
        font-size: 2vw;
        color: #888;
      }

      #doneCount {
        font-size: 2vw;
        color: green;
      }

      #instructions {
        position: absolute;
        bottom: 0px;
        left: 10px;
        font-size: 2vw;
        color: #888;

        display: grid;
        grid-template-columns: max-content auto;
      }

      #instructions dt {
        grid-column-start: 1;
        text-align: right;
      }

      #instructions dd {
        grid-column-start: 2;
        font-size: 1.5vw;
      }

      #setSelector {
        position: absolute;
        top: 10px;
        left: 10px;
        font-size: 2vw;
      }
    </style>
  </head>

  <body>
    <select id="setSelector"></select>

    <div class="content">
      <div id="flashCard"></div>
      <div class="metadata">
        <div id="leftCount"></div>
        <div id="doneCount"></div>
      </div>
    </div>

    <dl id="instructions">
      <dt>→</dt><dd>Got it</dd>
      <dt>←</dt><dd>Missed it</dd>
      <dt>Enter</dt><dd>Hint</dd>
      <dt>Esc</dt><dd>Reset</dd>
    </dl>

    <script>
      let flashcardSets = {
        alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),
        theos: "Ch (Cheetah),Sh (Shark),Th (Panther),Ph (Elephant),Wh (Whale)".split(","),
        sightWordsOne: [
          "am",
          "an",
          "and",
          "ask",
          "at",
          "but",
          "can",
          "did",
          "from",
          "get",
          "had",
          "I",
          "if",
          "in",
          "is",
          "it",
          "just",
          "not",
          "on",
          "stop",
          "than",
          "that",
          "the",
          "them",
          "then",
          "there",
          "this",
          "up",
          "what",
          "when",
          "which",
          "who",
          "with",
        ],
        sightWordsTwo: [
          "a",
          "any",
          "be",
          "by",
          "day",
          "each",
          "find",
          "fly",
          "give",
          "have",
          "he",
          "him",
          "its",
          "like",
          "live",
          "made",
          "make",
          "many",
          "may",
          "my",
          "people",
          "said",
          "see",
          "she",
          "take",
          "these",
          "they",
          "time",
          "way",
          "we",
          "write",
        ],
        sightWordsThree: [
          "again",
          "has",
          "one",
          "will",
          "all",
          "how",
          "out",
          "would",
          "as",
          "know",
          "put",
          "you",
          "call",
          "look",
          "so",
          "come",
          "no",
          "some",
          "could",
          "now",
          "to",
          "do",
          "of",
          "two",
          "down",
          "old",
          "use",
          "go",
          "once",
          "was",
        ],
        sightWordsFour: [
          "think",
          "going",
          "long",
          "thank",
          "let",
          "his",
          "walk",
          "about",
          "round",
          "are",
          "for",
          "or",
          "word",
          "were",
          "her",
          "more",
          "part",
          "your",
          "first",
          "their",
          "into",
          "number",
          "water",
          "every",
          "after",
          "other",
          "over",
          "been",
          "open",
        ],
      };

      for (set in flashcardSets) {
        let option = document.createElement("option");
        option.value = set;
        option.innerText = set;
        document.getElementById("setSelector").appendChild(option);
      }

      document.addEventListener("keydown", function (event) {
        switch (event.key) {
          case "ArrowRight":
            if (deck.length > 0) {
              finished.push(deck.shift());
            }
            break;
          case "ArrowLeft":
            if (deck.length > 0) {
              deck.splice(5, 0, deck.shift());
            }
            break;
          case "ArrowUp":
          case "Enter":
            const speech = new SpeechSynthesisUtterance(
              deck[0].toLocaleLowerCase()
            );
            speech.lang = "en-US";
            speech.rate = 0.8;
            speech.pitch = 1;
            window.speechSynthesis.speak(speech);
            break;
          case "Escape":
            resetCards();
            break;
        }
        render();
      });

      document
        .getElementById("setSelector")
        .addEventListener("change", function (event) {
          resetCards();
        });

      function getSet() {
        set = document.getElementById("setSelector").value;
        if (!set) {
          set = "alphabet";
        }
        return set;
      }

      function resetCards() {
        let set = getSet();
        deck = [...flashcardSets[set]].sort(() => Math.random() - 0.5);
        finished = [];
        render();
      }

      function render() {
        if (deck.length === 0) {
          document.getElementById("flashCard").innerText = "Done!";
        } else {
          if (getSet() == "alphabet") {
            document.getElementById("flashCard").innerText = `${
              deck[0]
            } ${deck[0].toLowerCase()}`;
          } else {
            document.getElementById("flashCard").innerText = `${deck[0]}`;
          }
        }
        document.getElementById("leftCount").innerText = `Left: ${deck.length}`;
        document.getElementById(
          "doneCount"
        ).innerText = `Done: ${finished.length}`;
      }

      resetCards();
    </script>
  </body>
</html>
